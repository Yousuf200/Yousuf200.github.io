<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>{{ page.title }} | {{ site.title }}</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="/assets/css/style.css">
  <link rel="icon" href="/assets/images/favicon.ico" type="image/x-icon">
</head>
<body class="page-body">

  <div class="page-wrapper">
    {% include header.html %}

    <main>
      {{ content }}
    </main>

    {% include footer.html %}
  </div>

  <script>
    document.addEventListener('DOMContentLoaded', () => {
      const body = document.body;
      const toggle = document.getElementById('theme-toggle');

      // Set initial theme
      const savedTheme = localStorage.getItem('theme');
      if (savedTheme === 'light') {
        body.classList.add('light-theme');
        body.classList.remove('dark-theme');
        if (toggle) toggle.checked = true;
      } else {
        body.classList.add('dark-theme');
        body.classList.remove('light-theme');
        if (toggle) toggle.checked = false;
      }

      // Handle theme toggle
      if (toggle) {
        toggle.addEventListener('change', () => {
          if (toggle.checked) {
            body.classList.add('light-theme');
            body.classList.remove('dark-theme');
            localStorage.setItem('theme', 'light');
          } else {
            body.classList.add('dark-theme');
            body.classList.remove('light-theme');
            localStorage.setItem('theme', 'dark');
          }
        });
      }

      // Handle mobile navigation toggle
      const navToggle = document.getElementById('navToggle');
      const navbar = document.getElementById('navbar');
      if (navToggle && navbar) {
        navToggle.addEventListener('click', () => {
          navbar.classList.toggle('show');
        });
      }

      // Page load animation
      body.classList.add('loaded');
    });
  </script>
</body>
</html>
